- name: GDM
  hosts: dm-gdm
  become: True
  tasks:

  - name: Install GDM (Arch)
    pacman: name=gdm
    when: ansible_distribution in ['Archlinux', 'Manjaro']

  - name: Install GDM (Debian-based)
    apt: name=gdm3
    when: ansible_distribution in ['Debian', 'Linuxmint', 'Ubuntu']

  - name: Disable Lightdm
    service: name=lightdm enabled=no

  - name: Enable gdm (Arch)
    service: name=gdm enabled=yes
    when: ansible_distribution in ['Archlinux', 'Manjaro']

  - name: Enable gdm3 (Debian-based)
    service: name=gdm3 enabled=yes
    when: ansible_distribution in ['Debian', 'Linuxmint', 'Ubuntu']
